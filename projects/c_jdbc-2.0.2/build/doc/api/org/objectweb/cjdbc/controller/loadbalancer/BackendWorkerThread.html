<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.4.2_08) on Fri Sep 16 20:36:27 CEST 2005 -->
<TITLE>
BackendWorkerThread (C-JDBC 2.0.2 API)
</TITLE>

<META NAME="keywords" CONTENT="org.objectweb.cjdbc.controller.loadbalancer.BackendWorkerThread class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../javadoc-stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="BackendWorkerThread (C-JDBC 2.0.2 API)";
}
</SCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/BackendWorkerThread.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/AbstractLoadBalancer.html" title="class in org.objectweb.cjdbc.controller.loadbalancer"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/WeightedBalancer.html" title="class in org.objectweb.cjdbc.controller.loadbalancer"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="BackendWorkerThread.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.objectweb.cjdbc.controller.loadbalancer</FONT>
<BR>
Class BackendWorkerThread</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by">java.lang.Thread
      <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by"><B>org.objectweb.cjdbc.controller.loadbalancer.BackendWorkerThread</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>java.lang.Runnable</DD>
</DL>
<HR>
<DL>
<DT>public class <B>BackendWorkerThread</B><DT>extends java.lang.Thread</DL>

<P>
Process sequentially a set of tasks and send them to a backend.
<P>

<P>
<DL>
<DT><B>Version:</B></DT>
  <DD>1.0</DD>
<DT><B>Author:</B></DT>
  <DD><a href="mailto:Emmanuel.Cecchet@inria.fr">Emmanuel Cecchet </a></DD>
</DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../../org/objectweb/cjdbc/controller/backend/DatabaseBackend.html" title="class in org.objectweb.cjdbc.controller.backend">DatabaseBackend</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/BackendWorkerThread.html#backend">backend</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/tasks/AbstractTask.html" title="class in org.objectweb.cjdbc.controller.loadbalancer.tasks">AbstractTask</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/BackendWorkerThread.html#currentlyProcessingTask">currentlyProcessingTask</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.lang.Long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/BackendWorkerThread.html#currentTaskTid">currentTaskTid</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/BackendWorkerThread.html#isKilled">isKilled</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/AbstractLoadBalancer.html" title="class in org.objectweb.cjdbc.controller.loadbalancer">AbstractLoadBalancer</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/BackendWorkerThread.html#loadBalancer">loadBalancer</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../../org/objectweb/cjdbc/common/log/Trace.html" title="class in org.objectweb.cjdbc.common.log">Trace</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/BackendWorkerThread.html#logger">logger</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.util.ArrayList</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/BackendWorkerThread.html#taskList">taskList</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.util.ArrayList</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/BackendWorkerThread.html#tidList">tidList</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_java.lang.Thread"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Fields inherited from class java.lang.Thread</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>MAX_PRIORITY, MIN_PRIORITY, NORM_PRIORITY</CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/BackendWorkerThread.html#BackendWorkerThread(org.objectweb.cjdbc.controller.backend.DatabaseBackend, org.objectweb.cjdbc.controller.loadbalancer.AbstractLoadBalancer)">BackendWorkerThread</A></B>(<A HREF="../../../../../org/objectweb/cjdbc/controller/backend/DatabaseBackend.html" title="class in org.objectweb.cjdbc.controller.backend">DatabaseBackend</A>&nbsp;backend,
                    <A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/AbstractLoadBalancer.html" title="class in org.objectweb.cjdbc.controller.loadbalancer">AbstractLoadBalancer</A>&nbsp;loadBalancer)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new <code>BackendWorkerThread</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/BackendWorkerThread.html#BackendWorkerThread(java.lang.String, org.objectweb.cjdbc.controller.backend.DatabaseBackend, org.objectweb.cjdbc.controller.loadbalancer.AbstractLoadBalancer)">BackendWorkerThread</A></B>(java.lang.String&nbsp;name,
                    <A HREF="../../../../../org/objectweb/cjdbc/controller/backend/DatabaseBackend.html" title="class in org.objectweb.cjdbc.controller.backend">DatabaseBackend</A>&nbsp;backend,
                    <A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/AbstractLoadBalancer.html" title="class in org.objectweb.cjdbc.controller.loadbalancer">AbstractLoadBalancer</A>&nbsp;loadBalancer)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new <code>BackendWorkerThread</code>.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/BackendWorkerThread.html#addPriorityTask(org.objectweb.cjdbc.controller.loadbalancer.tasks.AbstractTask)">addPriorityTask</A></B>(<A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/tasks/AbstractTask.html" title="class in org.objectweb.cjdbc.controller.loadbalancer.tasks">AbstractTask</A>&nbsp;task)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a task upfront to the task list so that this task will be the next
 executed task. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/BackendWorkerThread.html#addPriorityTask(org.objectweb.cjdbc.controller.loadbalancer.tasks.AbstractTask, long)">addPriorityTask</A></B>(<A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/tasks/AbstractTask.html" title="class in org.objectweb.cjdbc.controller.loadbalancer.tasks">AbstractTask</A>&nbsp;task,
                long&nbsp;transactionId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a task upfront to the task list so that this task will be the next
 executed task. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/BackendWorkerThread.html#addTask(org.objectweb.cjdbc.controller.loadbalancer.tasks.AbstractTask)">addTask</A></B>(<A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/tasks/AbstractTask.html" title="class in org.objectweb.cjdbc.controller.loadbalancer.tasks">AbstractTask</A>&nbsp;task)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a task at the end of the task list. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/BackendWorkerThread.html#addTask(org.objectweb.cjdbc.controller.loadbalancer.tasks.AbstractTask, long)">addTask</A></B>(<A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/tasks/AbstractTask.html" title="class in org.objectweb.cjdbc.controller.loadbalancer.tasks">AbstractTask</A>&nbsp;task,
        long&nbsp;transactionId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a task at the end of the task list. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../org/objectweb/cjdbc/controller/backend/DatabaseBackend.html" title="class in org.objectweb.cjdbc.controller.backend">DatabaseBackend</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/BackendWorkerThread.html#getBackend()">getBackend</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the backend.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../org/objectweb/cjdbc/common/log/Trace.html" title="class in org.objectweb.cjdbc.common.log">Trace</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/BackendWorkerThread.html#getLogger()">getLogger</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the logger for tracing.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/BackendWorkerThread.html#hasTaskForTransaction(java.lang.Long)">hasTaskForTransaction</A></B>(java.lang.Long&nbsp;tid)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if the thread has pending tasks for the given transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/BackendWorkerThread.html#insertTaskAfterLastWriteForTransaction(org.objectweb.cjdbc.controller.loadbalancer.tasks.AbstractTask, java.lang.Long)">insertTaskAfterLastWriteForTransaction</A></B>(<A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/tasks/AbstractTask.html" title="class in org.objectweb.cjdbc.controller.loadbalancer.tasks">AbstractTask</A>&nbsp;task,
                                       java.lang.Long&nbsp;transactionId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a task just after the last write task for the given transaction in the
 task list. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/BackendWorkerThread.html#kill()">kill</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kills this thread after the next task processing and forces the load
 balancer to disable the backend. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/BackendWorkerThread.html#kill(boolean)">kill</A></B>(boolean&nbsp;forceDisable)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kills this thread after the next task processing. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/BackendWorkerThread.html#killWithoutDisablingBackend()">killWithoutDisablingBackend</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kills this thread after the next task processing. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/BackendWorkerThread.html#run()">run</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process the tasklist and call <code>wait()</code> (on itself) when the
 tasklist becomes empty.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/BackendWorkerThread.html#waitForAllTasksToComplete()">waitForAllTasksToComplete</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Waits for all current tasks to complete.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/BackendWorkerThread.html#waitForAllTasksToComplete(long)">waitForAllTasksToComplete</A></B>(long&nbsp;transactionId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Waits for all tasks of the specified transaction to complete.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Thread"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Thread</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>activeCount, checkAccess, countStackFrames, currentThread, destroy, dumpStack, enumerate, getContextClassLoader, getName, getPriority, getThreadGroup, holdsLock, interrupt, interrupted, isAlive, isDaemon, isInterrupted, join, join, join, resume, setContextClassLoader, setDaemon, setName, setPriority, sleep, sleep, start, stop, stop, suspend, toString, yield</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="loadBalancer"><!-- --></A><H3>
loadBalancer</H3>
<PRE>
private <A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/AbstractLoadBalancer.html" title="class in org.objectweb.cjdbc.controller.loadbalancer">AbstractLoadBalancer</A> <B>loadBalancer</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="backend"><!-- --></A><H3>
backend</H3>
<PRE>
private <A HREF="../../../../../org/objectweb/cjdbc/controller/backend/DatabaseBackend.html" title="class in org.objectweb.cjdbc.controller.backend">DatabaseBackend</A> <B>backend</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="taskList"><!-- --></A><H3>
taskList</H3>
<PRE>
private java.util.ArrayList <B>taskList</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="tidList"><!-- --></A><H3>
tidList</H3>
<PRE>
private java.util.ArrayList <B>tidList</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="isKilled"><!-- --></A><H3>
isKilled</H3>
<PRE>
private boolean <B>isKilled</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="currentlyProcessingTask"><!-- --></A><H3>
currentlyProcessingTask</H3>
<PRE>
private <A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/tasks/AbstractTask.html" title="class in org.objectweb.cjdbc.controller.loadbalancer.tasks">AbstractTask</A> <B>currentlyProcessingTask</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="currentTaskTid"><!-- --></A><H3>
currentTaskTid</H3>
<PRE>
private java.lang.Long <B>currentTaskTid</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="logger"><!-- --></A><H3>
logger</H3>
<PRE>
private <A HREF="../../../../../org/objectweb/cjdbc/common/log/Trace.html" title="class in org.objectweb.cjdbc.common.log">Trace</A> <B>logger</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="BackendWorkerThread(org.objectweb.cjdbc.controller.backend.DatabaseBackend, org.objectweb.cjdbc.controller.loadbalancer.AbstractLoadBalancer)"><!-- --></A><H3>
BackendWorkerThread</H3>
<PRE>
public <B>BackendWorkerThread</B>(<A HREF="../../../../../org/objectweb/cjdbc/controller/backend/DatabaseBackend.html" title="class in org.objectweb.cjdbc.controller.backend">DatabaseBackend</A>&nbsp;backend,
                           <A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/AbstractLoadBalancer.html" title="class in org.objectweb.cjdbc.controller.loadbalancer">AbstractLoadBalancer</A>&nbsp;loadBalancer)
                    throws java.sql.SQLException</PRE>
<DL>
<DD>Creates a new <code>BackendWorkerThread</code>.
<P>
<DT><B>Parameters:</B><DD><CODE>backend</CODE> - the backend this thread is associated to.<DD><CODE>loadBalancer</CODE> - the load balancer instanciating this thread
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - if an error occurs</DL>
<HR>

<A NAME="BackendWorkerThread(java.lang.String, org.objectweb.cjdbc.controller.backend.DatabaseBackend, org.objectweb.cjdbc.controller.loadbalancer.AbstractLoadBalancer)"><!-- --></A><H3>
BackendWorkerThread</H3>
<PRE>
public <B>BackendWorkerThread</B>(java.lang.String&nbsp;name,
                           <A HREF="../../../../../org/objectweb/cjdbc/controller/backend/DatabaseBackend.html" title="class in org.objectweb.cjdbc.controller.backend">DatabaseBackend</A>&nbsp;backend,
                           <A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/AbstractLoadBalancer.html" title="class in org.objectweb.cjdbc.controller.loadbalancer">AbstractLoadBalancer</A>&nbsp;loadBalancer)
                    throws java.sql.SQLException</PRE>
<DL>
<DD>Creates a new <code>BackendWorkerThread</code>.
<P>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - the name to give to the thread<DD><CODE>backend</CODE> - the backend this thread is associated to.<DD><CODE>loadBalancer</CODE> - the load balancer instanciating this thread
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - if an error occurs</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="addTask(org.objectweb.cjdbc.controller.loadbalancer.tasks.AbstractTask)"><!-- --></A><H3>
addTask</H3>
<PRE>
public void <B>addTask</B>(<A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/tasks/AbstractTask.html" title="class in org.objectweb.cjdbc.controller.loadbalancer.tasks">AbstractTask</A>&nbsp;task)</PRE>
<DL>
<DD>Adds a task at the end of the task list. Warning! This method is not
 synchronized and the caller must synchronize on the thread before calling
 this method.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>task</CODE> - the task to add</DL>
</DD>
</DL>
<HR>

<A NAME="addTask(org.objectweb.cjdbc.controller.loadbalancer.tasks.AbstractTask, long)"><!-- --></A><H3>
addTask</H3>
<PRE>
public void <B>addTask</B>(<A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/tasks/AbstractTask.html" title="class in org.objectweb.cjdbc.controller.loadbalancer.tasks">AbstractTask</A>&nbsp;task,
                    long&nbsp;transactionId)</PRE>
<DL>
<DD>Adds a task at the end of the task list. Warning! This method is not
 synchronized and the caller must synchronize on the thread before calling
 this method.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>task</CODE> - the task to add<DD><CODE>transactionId</CODE> - transaction id in which this task execute</DL>
</DD>
</DL>
<HR>

<A NAME="insertTaskAfterLastWriteForTransaction(org.objectweb.cjdbc.controller.loadbalancer.tasks.AbstractTask, java.lang.Long)"><!-- --></A><H3>
insertTaskAfterLastWriteForTransaction</H3>
<PRE>
public void <B>insertTaskAfterLastWriteForTransaction</B>(<A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/tasks/AbstractTask.html" title="class in org.objectweb.cjdbc.controller.loadbalancer.tasks">AbstractTask</A>&nbsp;task,
                                                   java.lang.Long&nbsp;transactionId)</PRE>
<DL>
<DD>Adds a task just after the last write task for the given transaction in the
 task list. Warning! This method is not synchronized and the caller must
 synchronize on the thread before calling this method.
 <p>
 This method is usually used to insert a commit/rollback task when
 asynchrony is allowed between backends.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>task</CODE> - the task to add<DD><CODE>transactionId</CODE> - transaction id in which this task execute</DL>
</DD>
</DL>
<HR>

<A NAME="addPriorityTask(org.objectweb.cjdbc.controller.loadbalancer.tasks.AbstractTask)"><!-- --></A><H3>
addPriorityTask</H3>
<PRE>
public void <B>addPriorityTask</B>(<A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/tasks/AbstractTask.html" title="class in org.objectweb.cjdbc.controller.loadbalancer.tasks">AbstractTask</A>&nbsp;task)</PRE>
<DL>
<DD>Adds a task upfront to the task list so that this task will be the next
 executed task. Warning! This method is not synchronized and the caller must
 synchronize on the thread before calling this method.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>task</CODE> - the task to add</DL>
</DD>
</DL>
<HR>

<A NAME="addPriorityTask(org.objectweb.cjdbc.controller.loadbalancer.tasks.AbstractTask, long)"><!-- --></A><H3>
addPriorityTask</H3>
<PRE>
public void <B>addPriorityTask</B>(<A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/tasks/AbstractTask.html" title="class in org.objectweb.cjdbc.controller.loadbalancer.tasks">AbstractTask</A>&nbsp;task,
                            long&nbsp;transactionId)</PRE>
<DL>
<DD>Adds a task upfront to the task list so that this task will be the next
 executed task. Warning! This method is not synchronized and the caller must
 synchronize on the thread before calling this method
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>task</CODE> - the task to add<DD><CODE>transactionId</CODE> - transaction id in which this task execute</DL>
</DD>
</DL>
<HR>

<A NAME="hasTaskForTransaction(java.lang.Long)"><!-- --></A><H3>
hasTaskForTransaction</H3>
<PRE>
public boolean <B>hasTaskForTransaction</B>(java.lang.Long&nbsp;tid)</PRE>
<DL>
<DD>Returns true if the thread has pending tasks for the given transaction.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>tid</CODE> - the transaction identifier
<DT><B>Returns:</B><DD>true if the task list contains task(s) for transaction tid.</DL>
</DD>
</DL>
<HR>

<A NAME="waitForAllTasksToComplete(long)"><!-- --></A><H3>
waitForAllTasksToComplete</H3>
<PRE>
public void <B>waitForAllTasksToComplete</B>(long&nbsp;transactionId)</PRE>
<DL>
<DD>Waits for all tasks of the specified transaction to complete.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>transactionId</CODE> - the transaction identifier</DL>
</DD>
</DL>
<HR>

<A NAME="waitForAllTasksToComplete()"><!-- --></A><H3>
waitForAllTasksToComplete</H3>
<PRE>
public void <B>waitForAllTasksToComplete</B>()</PRE>
<DL>
<DD>Waits for all current tasks to complete.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="kill()"><!-- --></A><H3>
kill</H3>
<PRE>
public void <B>kill</B>()</PRE>
<DL>
<DD>Kills this thread after the next task processing and forces the load
 balancer to disable the backend. It also marks all remaining tasks in the
 task list as failed.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="killWithoutDisablingBackend()"><!-- --></A><H3>
killWithoutDisablingBackend</H3>
<PRE>
public void <B>killWithoutDisablingBackend</B>()</PRE>
<DL>
<DD>Kills this thread after the next task processing. It also marks all
 remaining tasks in the task list as failed.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="kill(boolean)"><!-- --></A><H3>
kill</H3>
<PRE>
private void <B>kill</B>(boolean&nbsp;forceDisable)</PRE>
<DL>
<DD>Kills this thread after the next task processing. It also marks all
 remaining tasks in the task list as failed.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>forceDisable</CODE> - true if the task must call the load balancer to disable
          the backend</DL>
</DD>
</DL>
<HR>

<A NAME="run()"><!-- --></A><H3>
run</H3>
<PRE>
public void <B>run</B>()</PRE>
<DL>
<DD>Process the tasklist and call <code>wait()</code> (on itself) when the
 tasklist becomes empty.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getBackend()"><!-- --></A><H3>
getBackend</H3>
<PRE>
public <A HREF="../../../../../org/objectweb/cjdbc/controller/backend/DatabaseBackend.html" title="class in org.objectweb.cjdbc.controller.backend">DatabaseBackend</A> <B>getBackend</B>()</PRE>
<DL>
<DD>Returns the backend.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>a <code>DatabaseBackend</code> instance</DL>
</DD>
</DL>
<HR>

<A NAME="getLogger()"><!-- --></A><H3>
getLogger</H3>
<PRE>
public <A HREF="../../../../../org/objectweb/cjdbc/common/log/Trace.html" title="class in org.objectweb.cjdbc.common.log">Trace</A> <B>getLogger</B>()</PRE>
<DL>
<DD>Returns the logger for tracing.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>a <code>Trace</code> instance</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/BackendWorkerThread.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/AbstractLoadBalancer.html" title="class in org.objectweb.cjdbc.controller.loadbalancer"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../org/objectweb/cjdbc/controller/loadbalancer/WeightedBalancer.html" title="class in org.objectweb.cjdbc.controller.loadbalancer"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="BackendWorkerThread.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
<i>Copyright &#169; 2002, 2005 - ObjectWeb Consortium - All Rights Reserved.</i>
</BODY>
</HTML>
