<?xml version="1.0" encoding="utf-8"?>
 
<!DOCTYPE concept PUBLIC "-//OASIS//DTD DITA Concept//EN"
 "../dtd/concept.dtd">
<!-- 
Licensed to the Apache Software Foundation (ASF) under one or more
contributor license agreements.  See the NOTICE file distributed with
this work for additional information regarding copyright ownership.
The ASF licenses this file to You under the Apache License, Version 2.0
(the "License"); you may not use this file except in compliance with
the License.  You may obtain a copy of the License at      

   http://www.apache.org/licenses/LICENSE-2.0  

Unless required by applicable law or agreed to in writing, software  
distributed under the License is distributed on an "AS IS" BASIS,  
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  
See the License for the specific language governing permissions and  
limitations under the License.
-->
<concept id="cdevcsecuree" xml:lang="en-us">
<title>Derby and security</title>
<shortdesc><ph conref="../conrefs.dita#prod/productshortname"></ph> can be
deployed in a number of ways and in a number of different environments. The
security needs of the <ph conref="../conrefs.dita#prod/productshortname"></ph> system
are also diverse.</shortdesc>
<prolog><metadata>
<keywords><indexterm>user authentication<indexterm>definition</indexterm></indexterm>
<indexterm>authentication<indexterm>definition</indexterm></indexterm><indexterm>disk
encryption</indexterm><indexterm>encrypting databases</indexterm></keywords>
</metadata></prolog>
<conbody>
<p><ph conref="../conrefs.dita#prod/productshortname"></ph> supplies or supports
the following optional security mechanisms:</p>
<ul>
<li><i>Authentication</i>
<p>Authentication determines whether you are a legal user. It establishes your
identity. <ph conref="../conrefs.dita#prod/productshortname"></ph> verifies
user names and passwords before permitting access to the
<ph conref="../conrefs.dita#prod/productshortname"></ph> system.</p>
<p>For more information about authentication, see
<xref href="cdevcsecure42374.dita#cdevcsecure42374"></xref>.</p></li>
<li><i>Authorization</i>
<p>Authorization determines what operations can be performed by you, that is, by
your <ph conref="../conrefs.dita#prod/productshortname"></ph> identity. 
Authorization grants users or roles permission to read a database or to write
to a database.</p>
<p>For more information about authorization, see
<xref href="cdevcsecure36595.dita#cdevcsecure36595"></xref>.</p></li>
<li><i>Disk encryption</i>
<p><ph conref="../conrefs.dita#prod/productshortname"></ph> provides ways to
encrypt data stored on disk.</p>
<p>For more information about encryption, see
<xref href="cdevcsecure24366.dita#cdevcsecure24366"></xref>.</p></li>
<li><i>Validation of certificates for signed jar files</i>
<p><ph conref="../conrefs.dita#prod/productshortname"></ph> validates
certificates for classes loaded from signed jar files.</p>
<p>For more information about using signed jar files, see
<xref href="cdevcsecure90988.dita#cdevcsecure90988"></xref>.</p></li>
<li><i>Network encryption and authentication</i>
<p><ph conref="../conrefs.dita#prod/productshortname"></ph> network traffic may
be encrypted with SSL/TLS. SSL/TLS certificate authentication is also supported.
See "Network encryption and authentication with SSL/TLS" in the
<ph conref="../conrefs.dita#pub/citadmin"></ph> for details.</p></li> 
</ul>
<p>The section "Derby Network Server advanced topics" in the
<ph conref="../conrefs.dita#pub/citadmin"></ph> has more information on
security issues. The <ph conref="../conrefs.dita#pub/citref"></ph> describes
many security-related properties and system procedures, as well as such
statements as GRANT, REVOKE, CREATE ROLE, DROP ROLE, CREATE PROCEDURE, and
CREATE FUNCTION.</p>
<section><title>Identity in
<ph conref="../conrefs.dita#prod/productshortname"></ph></title>
<p><ph conref="../conrefs.dita#prod/productshortname"></ph> provides two
kinds of identity:</p>
<ul>
<li><i>System-wide identity</i>: Currently, any legal system-wide identity
enjoys authorization to perform the following operations:
<ul>
<li>Create databases</li>
<li>Restore databases</li>
<li>Shut down the <ph conref="../conrefs.dita#prod/productshortname"></ph>
engine</li>
</ul>
</li>
<li><i>Database-specific identity</i>: If you are a legal identity in a specific
database, you may enjoy the following rights:
<ul>
<li>You can connect to that database, provided that coarse-grained connection
authorization has not been set to <i>noAccess</i>.</li>
<li>You can shut down that database, encrypt it, and upgrade it, provided that
you are the database owner.</li>
<li>You can create your own SQL objects and write data to your own tables,
provided that your coarse-grained connection authorization has not been set to
<i>readOnlyAccess</i>.</li>
<li>You can access other SQL objects, provided that the owners have granted you
fine-grained SQL access to those objects, and provided you have not been limited
by coarse-grained <i>readOnlyAccess</i>.</li>
</ul>
</li>
</ul>
<p>The distinction between fine-grained SQL authorization and coarse-grained
connection organization is described in
<xref href="cdevcsecure36595.dita#cdevcsecure36595"></xref>.</p>
</section>
<section><title>Security mechanisms in action</title>
<p>The following figure shows some of the <ph conref="../conrefs.dita#prod/productshortname"></ph> security
mechanisms at work in a client/server environment. User authentication is
performed by accessing an LDAP directory service. The data in the database
is not encrypted in this trusted environment.</p>
<fig expanse="column"><title>Using an LDAP directory service in a trusted
environment</title>
<image href="security_os.gif" placement="break"><alt>This figure shows user authentication from an LDAP directory service to the Derby engine, and user authorization to read and write data. The Derby database is a trusted environment, and the data is not encrypted.</alt>
</image>
</fig>
<p>The following figure shows how another <ph conref="../conrefs.dita#prod/productshortname"></ph> security
mechanism, disk encryption, protects data when the recipient might not know
how to protect data. It is useful for databases deployed in an embedded
environment.</p>
<fig expanse="column"><title>Using disk encryption to protect data</title>
<image href="security2_os.gif" placement="break"><alt>This figure shows disk encryption between the Derby engine and the database.</alt>
</image>
</fig>
</section>
</conbody>
</concept>
